/*******************************************************************************
 * Copyright (C) 2013, 2015 Swirly Cloud Limited. All rights reserved.
 *******************************************************************************/
package com.swirlycloud.swirly.mock;

import java.io.IOException;
import java.io.StringReader;

import javax.xml.parsers.ParserConfigurationException;

import org.xml.sax.InputSource;
import org.xml.sax.SAXException;

import com.swirlycloud.swirly.fx.IrCurve;

public final class MockIrCurve {
    private static final String MOCK_EUR = "<?xml version=\"1.0\" standalone=\"yes\" ?><interestRateCurve><effectiveasof>2014-12-25</effectiveasof><currency>EUR</currency><baddayconvention>M</baddayconvention><deposits><daycountconvention>ACT/360</daycountconvention><snaptime>2014-12-24T15:00:00.000Z</snaptime><spotdate>2014-12-29</spotdate><calendars><calendar>none</calendar></calendars><curvepoint><tenor>1M</tenor><maturitydate>2015-01-29</maturitydate><parrate>0.00025</parrate></curvepoint><curvepoint><tenor>2M</tenor><maturitydate>2015-02-27</maturitydate><parrate>0.00046</parrate></curvepoint><curvepoint><tenor>3M</tenor><maturitydate>2015-03-30</maturitydate><parrate>0.00080</parrate></curvepoint><curvepoint><tenor>6M</tenor><maturitydate>2015-06-29</maturitydate><parrate>0.00173</parrate></curvepoint><curvepoint><tenor>9M</tenor><maturitydate>2015-09-29</maturitydate><parrate>0.00249</parrate></curvepoint><curvepoint><tenor>1Y</tenor><maturitydate>2015-12-29</maturitydate><parrate>0.00328</parrate></curvepoint></deposits><swaps><fixeddaycountconvention>30/360</fixeddaycountconvention><floatingdaycountconvention>ACT/360</floatingdaycountconvention><fixedpaymentfrequency>1Y</fixedpaymentfrequency><floatingpaymentfrequency>6M</floatingpaymentfrequency><snaptime>2014-12-24T15:00:00.000Z</snaptime><spotdate>2014-12-29</spotdate><calendars><calendar>none</calendar></calendars><curvepoint><tenor>2Y</tenor><maturitydate>2016-12-29</maturitydate><parrate>0.0019</parrate></curvepoint><curvepoint><tenor>3Y</tenor><maturitydate>2017-12-29</maturitydate><parrate>0.00241</parrate></curvepoint><curvepoint><tenor>4Y</tenor><maturitydate>2018-12-29</maturitydate><parrate>0.00311</parrate></curvepoint><curvepoint><tenor>5Y</tenor><maturitydate>2019-12-29</maturitydate><parrate>0.00392</parrate></curvepoint><curvepoint><tenor>6Y</tenor><maturitydate>2020-12-29</maturitydate><parrate>0.00478</parrate></curvepoint><curvepoint><tenor>7Y</tenor><maturitydate>2021-12-29</maturitydate><parrate>0.00573</parrate></curvepoint><curvepoint><tenor>8Y</tenor><maturitydate>2022-12-29</maturitydate><parrate>0.00674</parrate></curvepoint><curvepoint><tenor>9Y</tenor><maturitydate>2023-12-29</maturitydate><parrate>0.00775</parrate></curvepoint><curvepoint><tenor>10Y</tenor><maturitydate>2024-12-29</maturitydate><parrate>0.0087</parrate></curvepoint><curvepoint><tenor>12Y</tenor><maturitydate>2026-12-29</maturitydate><parrate>0.01035</parrate></curvepoint><curvepoint><tenor>15Y</tenor><maturitydate>2029-12-29</maturitydate><parrate>0.01215</parrate></curvepoint><curvepoint><tenor>20Y</tenor><maturitydate>2034-12-29</maturitydate><parrate>0.01392</parrate></curvepoint><curvepoint><tenor>30Y</tenor><maturitydate>2044-12-29</maturitydate><parrate>0.01537</parrate></curvepoint></swaps></interestRateCurve>";
    private static final String MOCK_GBP = "<?xml version=\"1.0\" standalone=\"yes\" ?><interestRateCurve><effectiveasof>2014-12-25</effectiveasof><currency>GBP</currency><baddayconvention>M</baddayconvention><deposits><daycountconvention>ACT/365</daycountconvention><snaptime>2014-12-24T16:00:00.000Z</snaptime><spotdate>2014-12-25</spotdate><calendars><calendar>none</calendar></calendars><curvepoint><tenor>1M</tenor><maturitydate>2015-01-26</maturitydate><parrate>0.005016</parrate></curvepoint><curvepoint><tenor>2M</tenor><maturitydate>2015-02-25</maturitydate><parrate>0.00524</parrate></curvepoint><curvepoint><tenor>3M</tenor><maturitydate>2015-03-25</maturitydate><parrate>0.005596</parrate></curvepoint><curvepoint><tenor>6M</tenor><maturitydate>2015-06-25</maturitydate><parrate>0.006823</parrate></curvepoint><curvepoint><tenor>1Y</tenor><maturitydate>2015-12-25</maturitydate><parrate>0.009774</parrate></curvepoint></deposits><swaps><fixeddaycountconvention>ACT/365</fixeddaycountconvention><floatingdaycountconvention>ACT/365</floatingdaycountconvention><fixedpaymentfrequency>6M</fixedpaymentfrequency><floatingpaymentfrequency>6M</floatingpaymentfrequency><snaptime>2014-12-24T16:00:00.000Z</snaptime><spotdate>2014-12-25</spotdate><calendars><calendar>none</calendar></calendars><curvepoint><tenor>2Y</tenor><maturitydate>2016-12-25</maturitydate><parrate>0.00973</parrate></curvepoint><curvepoint><tenor>3Y</tenor><maturitydate>2017-12-25</maturitydate><parrate>0.012</parrate></curvepoint><curvepoint><tenor>4Y</tenor><maturitydate>2018-12-25</maturitydate><parrate>0.01387</parrate></curvepoint><curvepoint><tenor>5Y</tenor><maturitydate>2019-12-25</maturitydate><parrate>0.01539</parrate></curvepoint><curvepoint><tenor>6Y</tenor><maturitydate>2020-12-25</maturitydate><parrate>0.01655</parrate></curvepoint><curvepoint><tenor>7Y</tenor><maturitydate>2021-12-25</maturitydate><parrate>0.01751</parrate></curvepoint><curvepoint><tenor>8Y</tenor><maturitydate>2022-12-25</maturitydate><parrate>0.01833</parrate></curvepoint><curvepoint><tenor>9Y</tenor><maturitydate>2023-12-25</maturitydate><parrate>0.01904</parrate></curvepoint><curvepoint><tenor>10Y</tenor><maturitydate>2024-12-25</maturitydate><parrate>0.01966</parrate></curvepoint><curvepoint><tenor>12Y</tenor><maturitydate>2026-12-25</maturitydate><parrate>0.02076</parrate></curvepoint><curvepoint><tenor>15Y</tenor><maturitydate>2029-12-25</maturitydate><parrate>0.02196</parrate></curvepoint><curvepoint><tenor>20Y</tenor><maturitydate>2034-12-25</maturitydate><parrate>0.02316</parrate></curvepoint><curvepoint><tenor>25Y</tenor><maturitydate>2039-12-25</maturitydate><parrate>0.02354</parrate></curvepoint><curvepoint><tenor>30Y</tenor><maturitydate>2044-12-25</maturitydate><parrate>0.02369</parrate></curvepoint></swaps></interestRateCurve>";
    private static final String MOCK_USD = "<?xml version=\"1.0\" standalone=\"yes\" ?><interestRateCurve><effectiveasof>2014-12-25</effectiveasof><currency>USD</currency><baddayconvention>M</baddayconvention><deposits><daycountconvention>ACT/360</daycountconvention><snaptime>2014-12-24T21:00:00.000Z</snaptime><spotdate>2014-12-29</spotdate><calendars><calendar>none</calendar></calendars><curvepoint><tenor>1M</tenor><maturitydate>2015-01-29</maturitydate><parrate>0.001688</parrate></curvepoint><curvepoint><tenor>2M</tenor><maturitydate>2015-02-27</maturitydate><parrate>0.002148</parrate></curvepoint><curvepoint><tenor>3M</tenor><maturitydate>2015-03-30</maturitydate><parrate>0.002566</parrate></curvepoint><curvepoint><tenor>6M</tenor><maturitydate>2015-06-29</maturitydate><parrate>0.003574</parrate></curvepoint><curvepoint><tenor>1Y</tenor><maturitydate>2015-12-29</maturitydate><parrate>0.006288</parrate></curvepoint></deposits><swaps><fixeddaycountconvention>30/360</fixeddaycountconvention><floatingdaycountconvention>ACT/360</floatingdaycountconvention><fixedpaymentfrequency>6M</fixedpaymentfrequency><floatingpaymentfrequency>3M</floatingpaymentfrequency><snaptime>2014-12-24T21:00:00.000Z</snaptime><spotdate>2014-12-29</spotdate><calendars><calendar>none</calendar></calendars><curvepoint><tenor>2Y</tenor><maturitydate>2016-12-29</maturitydate><parrate>0.0093</parrate></curvepoint><curvepoint><tenor>3Y</tenor><maturitydate>2017-12-29</maturitydate><parrate>0.01348</parrate></curvepoint><curvepoint><tenor>4Y</tenor><maturitydate>2018-12-29</maturitydate><parrate>0.01652</parrate></curvepoint><curvepoint><tenor>5Y</tenor><maturitydate>2019-12-29</maturitydate><parrate>0.01863</parrate></curvepoint><curvepoint><tenor>6Y</tenor><maturitydate>2020-12-29</maturitydate><parrate>0.02022</parrate></curvepoint><curvepoint><tenor>7Y</tenor><maturitydate>2021-12-29</maturitydate><parrate>0.021405</parrate></curvepoint><curvepoint><tenor>8Y</tenor><maturitydate>2022-12-29</maturitydate><parrate>0.0224</parrate></curvepoint><curvepoint><tenor>9Y</tenor><maturitydate>2023-12-29</maturitydate><parrate>0.023235</parrate></curvepoint><curvepoint><tenor>10Y</tenor><maturitydate>2024-12-29</maturitydate><parrate>0.023905</parrate></curvepoint><curvepoint><tenor>12Y</tenor><maturitydate>2026-12-29</maturitydate><parrate>0.025005</parrate></curvepoint><curvepoint><tenor>15Y</tenor><maturitydate>2029-12-29</maturitydate><parrate>0.02613</parrate></curvepoint><curvepoint><tenor>20Y</tenor><maturitydate>2034-12-29</maturitydate><parrate>0.02719</parrate></curvepoint><curvepoint><tenor>25Y</tenor><maturitydate>2039-12-29</maturitydate><parrate>0.02766</parrate></curvepoint><curvepoint><tenor>30Y</tenor><maturitydate>2044-12-29</maturitydate><parrate>0.02791</parrate></curvepoint></swaps></interestRateCurve>";

    private MockIrCurve() {
    }

    public static IrCurve newIrCurve(String ccy)
            throws ParserConfigurationException, SAXException, IOException {
        String xml;
        if ("EUR".equals(ccy)) {
            xml = MOCK_EUR;
        } else if ("GBP".equals(ccy)) {
            xml = MOCK_GBP;
        } else if ("USD".equals(ccy)) {
            xml = MOCK_USD;
        } else {
            throw new IllegalArgumentException(String.format("curve '%s' does not exist", ccy));
        }
        final InputSource is = new InputSource(new StringReader(xml));
        final IrCurve irc = new IrCurve();
        irc.parse(is);
        return irc;
    }
}
